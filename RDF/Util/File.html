<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: RDF::Util::File
  
    &mdash; RDF.rb: Linked Data for Ruby
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RDF::Util::File";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RDF.html" title="RDF (module)">RDF</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Util.html" title="RDF::Util (module)">Util</a></span></span>
     &raquo; 
    <span class="title">File</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: RDF::Util::File
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rdf/util/file.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Wrapper for retrieving RDF resources from HTTP(S) and file: scheme locations.</p>

<p>By default, HTTP(S) resources are retrieved using Net::HTTP. However, If the <a href="https://rubygems.org/gems/rest-client">Rest Client</a> gem is included, it will be used for retrieving resources, allowing for sophisticated HTTP caching using <a href="https://rubygems.org/gems/rest-client-components">REST Client Components</a> allowing the use of <code>Rack::Cache</code> to avoid network access.</p>

<p>To use other HTTP clients, consumers can subclass <span class='object_link'><a href="File/HttpAdapter.html" title="RDF::Util::File::HttpAdapter (class)">HttpAdapter</a></span> and set the <span class='object_link'><a href="" title="RDF::Util::File (module)">File</a></span>.</p>

<p>Also supports the file: scheme for access to local files.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.2.4</p>
</div>
      
    </li>
  
</ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="File/FaradayAdapter.html" title="RDF::Util::File::FaradayAdapter (class)">FaradayAdapter</a></span>, <span class='object_link'><a href="File/HttpAdapter.html" title="RDF::Util::File::HttpAdapter (class)">HttpAdapter</a></span>, <span class='object_link'><a href="File/NetHttpAdapter.html" title="RDF::Util::File::NetHttpAdapter (class)">NetHttpAdapter</a></span>, <span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span>, <span class='object_link'><a href="File/RestClientAdapter.html" title="RDF::Util::File::RestClientAdapter (class)">RestClientAdapter</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#http_adapter-class_method" title="http_adapter (class method)">.<strong>http_adapter</strong>(use_net_http = false)  &#x21d2; HttpAdapter </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get current HTTP adapter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#http_adapter=-class_method" title="http_adapter= (class method)">.<strong>http_adapter=</strong>(http_adapter)  &#x21d2; HttpAdapter </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the HTTP adapter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open_file-class_method" title="open_file (class method)">.<strong>open_file</strong>(filename_or_url, proxy: nil, headers: {}, verify_none: false, **options) {|RemoteDocument| ... } &#x21d2; RemoteDocument, Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Open the file, returning or yielding <span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span>.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="http_adapter-class_method">
  
    .<strong>http_adapter</strong>(use_net_http = false)  &#x21d2; <tt><span class='object_link'><a href="File/HttpAdapter.html" title="RDF::Util::File::HttpAdapter (class)">HttpAdapter</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get current HTTP adapter. If no adapter has been explicitly set, use RestClientAdapter (if RestClient is loaded), or the NetHttpAdapter</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>use_net_http</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>use the NetHttpAdapter, even if other adapters have been configured</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="File/HttpAdapter.html" title="RDF::Util::File::HttpAdapter (class)">HttpAdapter</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.2</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


244
245
246
247
248
249
250
251
252
253
254
255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdf/util/file.rb', line 244</span>

<span class='kw'>def</span> <span class='id identifier rubyid_http_adapter'>http_adapter</span><span class='lparen'>(</span><span class='id identifier rubyid_use_net_http'>use_net_http</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_use_net_http'>use_net_http</span>
    <span class='const'><span class='object_link'><a href="File/NetHttpAdapter.html" title="RDF::Util::File::NetHttpAdapter (class)">NetHttpAdapter</a></span></span>
  <span class='kw'>else</span>
    <span class='ivar'>@http_adapter</span> <span class='op'>||=</span> <span class='kw'>begin</span>
      <span class='comment'># Otherwise, fallback to Net::HTTP
</span>      <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'>RestClient</span><span class='rparen'>)</span>
        <span class='const'><span class='object_link'><a href="File/RestClientAdapter.html" title="RDF::Util::File::RestClientAdapter (class)">RestClientAdapter</a></span></span>
      <span class='kw'>else</span>
        <span class='const'><span class='object_link'><a href="File/NetHttpAdapter.html" title="RDF::Util::File::NetHttpAdapter (class)">NetHttpAdapter</a></span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="http_adapter=-class_method">
  
    .<strong>http_adapter=</strong>(http_adapter)  &#x21d2; <tt><span class='object_link'><a href="File/HttpAdapter.html" title="RDF::Util::File::HttpAdapter (class)">HttpAdapter</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the HTTP adapter</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>http_adapter</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="File/HttpAdapter.html" title="RDF::Util::File::HttpAdapter (class)">HttpAdapter</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="File/HttpAdapter.html" title="RDF::Util::File::HttpAdapter (class)">HttpAdapter</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#http_adapter-class_method" title="RDF::Util::File.http_adapter (method)">http_adapter</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.2</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdf/util/file.rb', line 232</span>

<span class='kw'>def</span> <span class='id identifier rubyid_http_adapter='>http_adapter=</span> <span class='id identifier rubyid_http_adapter'>http_adapter</span>
  <span class='ivar'>@http_adapter</span> <span class='op'>=</span> <span class='id identifier rubyid_http_adapter'>http_adapter</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open_file-class_method">
  
    .<strong>open_file</strong>(filename_or_url, proxy: nil, headers: {}, verify_none: false, **options) {|RemoteDocument| ... } &#x21d2; <tt><span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span></tt>, <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Open the file, returning or yielding <span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span>.</p>

<p>Input received as non-unicode, is transformed to UTF-8. With Ruby &gt;= 2.2, all UTF is normalized to <a href="http://unicode.org/reports/tr15/#Norm_Forms">Unicode Normalization Form C (NFC)</a>.</p>

<p>HTTP resources may be retrieved via proxy using the <code>proxy</code> option. If <code>RestClient</code> is loaded, they will use the proxy globally by setting something like the following:  <code>RestClient.proxy = &quot;http://proxy.example.com/&quot;</code>. When retrieving documents over HTTP(S), use the mechanism described in <a href="http://www.w3.org/2001/tag/awwsw/issue57/latest/">Providing and Discovering URI Documentation</a> to pass the appropriate <code>base_uri</code> to the block or as the return.</p>

<p>Applications needing HTTP caching may consider <a href="https://rubygems.org/gems/rest-client">Rest Client</a> and <a href="https://rubygems.org/gems/rest-client-components">REST Client Components</a> allowing the use of <code>Rack::Cache</code> as a local file cache.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>using a local HTTP cache</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>restclient/components</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rack/cache</span><span class='tstring_end'>&#39;</span></span>
<span class='const'>RestClient</span><span class='period'>.</span><span class='id identifier rubyid_enable'>enable</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Cache</span>
<span class='const'><span class='object_link'><a href="../../RDF.html" title="RDF (module)">RDF</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Util.html" title="RDF::Util (module)">Util</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="RDF::Util::File (module)">File</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open_file'>open_file</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.org/some/resource</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='comment'># =&gt; Cached resource if current, otherwise returned resource</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>filename_or_url</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>to open</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>proxy</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>HTTP Proxy to use for requests.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>headers</span>
      
      
        <span class='type'>(<tt>Array</tt>, <tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>({}) HTTP Request headers</p>

<p>Defaults <code>Accept</code> header based on available reader content types to allow for content negotiation based on available readers.</p>

<p>Defaults <code>User-Agent</code> header, unless one is specified.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>verify_none</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>(false) Don’t verify SSL certificates</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>options are ignored in this implementation. Applications are encouraged to override this implementation to provide more control over HTTP headers and redirect following. If opening as a file, options are passed to <code>Kernel.open</code>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A <span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span> for local files</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>returned from open_file</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span></tt>, <tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A <span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span>. If a block is given, the result of evaluating the block is returned.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>IOError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if not found</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.2.4</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rdf/util/file.rb', line 299</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_open_file'>open_file</span><span class='lparen'>(</span><span class='id identifier rubyid_filename_or_url'>filename_or_url</span><span class='comma'>,</span> <span class='label'>proxy:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>headers:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>verify_none:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_filename_or_url'>filename_or_url</span> <span class='op'>=</span> <span class='backref'>$1</span> <span class='kw'>if</span> <span class='id identifier rubyid_filename_or_url'>filename_or_url</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^file:(.*)$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_remote_document'>remote_document</span> <span class='op'>=</span> <span class='kw'>nil</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_filename_or_url'>filename_or_url</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_match?'>match?</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^https?</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_filename_or_url'>filename_or_url</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

    <span class='id identifier rubyid_remote_document'>remote_document</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_http_adapter'>http_adapter</span><span class='lparen'>(</span><span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:use_net_http</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span>
      <span class='id identifier rubyid_open_url'>open_url</span><span class='lparen'>(</span><span class='id identifier rubyid_base_uri'>base_uri</span><span class='comma'>,</span>
               <span class='label'>proxy:</span>       <span class='id identifier rubyid_proxy'>proxy</span><span class='comma'>,</span>
               <span class='label'>headers:</span>     <span class='id identifier rubyid_headers'>headers</span><span class='comma'>,</span>
               <span class='label'>verify_none:</span> <span class='id identifier rubyid_verify_none'>verify_none</span><span class='comma'>,</span>
               <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='comment'># Fake content type based on found format
</span>    <span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../RDF.html" title="RDF (module)">RDF</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Format.html" title="RDF::Format (class)">Format</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for'><span class='object_link'><a href="../Format.html#for-class_method" title="RDF::Format.for (method)">for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_filename_or_url'>filename_or_url</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span> <span class='op'>?</span> <span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>text/plain</span><span class='tstring_end'>&#39;</span></span>
    <span class='comment'># Open as a file, passing any options
</span>    <span class='kw'>begin</span>
      <span class='id identifier rubyid_url_no_frag_or_query'>url_no_frag_or_query</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../RDF.html" title="RDF (module)">RDF</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">URI</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_filename_or_url'>filename_or_url</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dup'><span class='object_link'><a href="../URI.html#dup-instance_method" title="RDF::URI#dup (method)">dup</a></span></span>
      <span class='id identifier rubyid_url_no_frag_or_query'>url_no_frag_or_query</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_url_no_frag_or_query'>url_no_frag_or_query</span><span class='period'>.</span><span class='id identifier rubyid_fragment'>fragment</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:encoding</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span>
      <span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_url_no_frag_or_query'>url_no_frag_or_query</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
        <span class='id identifier rubyid_document_options'>document_options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
          <span class='label'>base_uri:</span>     <span class='id identifier rubyid_filename_or_url'>filename_or_url</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
          <span class='label'>charset:</span>      <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_external_encoding'>external_encoding</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
          <span class='label'>code:</span>         <span class='int'>200</span><span class='comma'>,</span>
          <span class='label'>content_type:</span> <span class='id identifier rubyid_content_type'>content_type</span><span class='comma'>,</span>
          <span class='label'>last_modified:</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_mtime'>mtime</span><span class='comma'>,</span>
          <span class='label'>headers:</span>      <span class='lbrace'>{</span><span class='label'>content_type:</span> <span class='id identifier rubyid_content_type'>content_type</span><span class='comma'>,</span> <span class='label'>last_modified:</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_mtime'>mtime</span><span class='period'>.</span><span class='id identifier rubyid_xmlschema'>xmlschema</span><span class='rbrace'>}</span>
        <span class='rbrace'>}</span>

        <span class='id identifier rubyid_remote_document'>remote_document</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="File/RemoteDocument.html" title="RDF::Util::File::RemoteDocument (class)">RemoteDocument</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="File/RemoteDocument.html#initialize-instance_method" title="RDF::Util::File::RemoteDocument#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='comma'>,</span> <span class='id identifier rubyid_document_options'>document_options</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>IOError</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_remote_document'>remote_document</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_remote_document'>remote_document</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Feb  8 19:17:26 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-3.1.0).
</div>

    </div>
  </body>
</html>